(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,n){e.exports={Item:"ImageGalleryItem_Item__3-aWh",Image:"ImageGalleryItem_Image__1vxnQ"}},14:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3uBZk",Modal:"Modal_Modal__1txv6"}},16:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__XHtLf"}},17:function(e,t,n){e.exports={container:"Container_container__3Uu3-"}},18:function(e,t,n){e.exports={Gallery:"Section_Gallery__K1Yn2"}},19:function(e,t,n){e.exports={text:"ErrorMessage_text__1BeCs"}},20:function(e,t,n){e.exports={text:"Request_text__1a_Wh"}},21:function(e,t,n){e.exports={Button:"Button_Button__JZnzb"}},26:function(e,t,n){},29:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),s=(n(26),n(5)),i=n.n(s),u=n(11),l=n(9),j=n(3),b=n(10),d=(n(28),n(29),n(15)),m=n.n(d),h=(n(50),n(1));function f(){return Object(h.jsx)("div",{children:Object(h.jsx)(m.a,{type:"Circles",color:"#00BFFF",height:80,width:80})})}var O=n(13),p=n.n(O);function x(e){var t=e.openModal,n=e.webformatURL,a=e.largeImageURL,r=e.tags,c=void 0===r?"image":r;return Object(h.jsx)("li",{className:p.a.Item,children:Object(h.jsx)("img",{onClick:function(e){t(e.target.dataset.large)},src:n,alt:c,className:p.a.Image,"data-large":a})})}var g=n(16),_=n.n(g),v=function(e){var t=e.images,n=e.openModal;return Object(h.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(h.jsx)(x,{webformatURL:a,openModal:n,largeImageURL:r,tags:c},t)}))})},y=n(6),S=n.n(y),w=n(17),I=n.n(w),L=function(e){var t=e.children;return Object(h.jsx)("div",{className:I.a.container,children:t})};function k(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],o=r[1];return Object(h.jsx)("header",{className:S.a.Searchbar,children:Object(h.jsx)(L,{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c?(t(c),o("")):b.b.error("Please, enter your request!")},className:S.a.Form,children:[Object(h.jsx)("button",{type:"submit",className:S.a.Button,children:Object(h.jsx)("span",{className:S.a.Label,children:"Search"})}),Object(h.jsx)("input",{className:S.a.Input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase().trim())},value:c})]})})})}var N="22960309-85052fc004ca9b43ae271af96",C=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,c,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(n,"&key=").concat(N,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}));case 3:return a=e.sent,r=a.hits,c=a.total,e.abrupt("return",{hits:r,total:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B={fetchImage:C},M=n(18),F=n.n(M),G=function(e){var t=e.children;return Object(h.jsx)("section",{className:F.a.Gallery,children:t})},E=n(19),R=n.n(E),U=function(e){var t=e.message;return Object(h.jsx)("p",{className:R.a.text,children:t})},q=n(20),J=n.n(q),P=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("p",{className:J.a.text,children:"Please, enter your request"})})},T=n(21),K=n.n(T),z=function(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:K.a.Button,onClick:t,children:"Load more"})},A=n(14),H=n.n(A),W=document.querySelector("#modal-root");function X(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(h.jsx)("div",{className:H.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(h.jsx)("div",{className:H.a.Modal,children:n})}),W)}function Z(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(j.a)(c,2),s=o[0],d=o[1],m=Object(a.useState)(1),O=Object(j.a)(m,2),p=O[0],x=O[1],g=Object(a.useState)(null),_=Object(j.a)(g,2),y=_[0],S=_[1],w=Object(a.useState)(null),I=Object(j.a)(w,2),N=I[0],C=I[1],M=Object(a.useState)("idle"),F=Object(j.a)(M,2),E=F[0],R=F[1],q=Object(a.useState)(!1),J=Object(j.a)(q,2),T=J[0],K=J[1],A=Object(a.useState)(""),H=Object(j.a)(A,2),W=H[0],Z=H[1];Object(a.useEffect)((function(){function e(){return e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.fetchImage(t,n).then((function(e){var t=e.hits,a=e.total;d(1===n?Object(u.a)(t):function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))}),C(a),R("resolved"),a?S(null):(S("Something went wrong! Please, change your request!"),R("rejected")),Q()}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}n&&(R("pending"),function(t,n){e.apply(this,arguments)}(n,p))}),[n,p]);var D=function(e){K(!T),Z(e)},Q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k,{onSubmit:function(e){r(e),x(1)}}),";",Object(h.jsx)(G,{children:Object(h.jsxs)(L,{children:["idle"===E&&Object(h.jsx)(P,{}),"rejected"===E&&Object(h.jsx)(U,{message:y}),Object(h.jsx)(v,{images:s,openModal:D}),"pending"===E&&Object(h.jsx)(f,{}),N-12*p>0&&"resolved"===E&&Object(h.jsx)(z,{onClick:function(){x((function(e){return e+1}))}})]})}),T&&Object(h.jsx)(X,{onClose:D,children:Object(h.jsx)("img",{src:W,alt:""})}),Object(h.jsx)(b.a,{autoClose:3e3})]})}o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Z,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__3adKK",Form:"Searchbar_Form__LLdsA",Button:"Searchbar_Button__3uAwJ",Label:"Searchbar_Label__2-y3e",Input:"Searchbar_Input__XFTh-"}}},[[52,1,2]]]);
//# sourceMappingURL=main.f7f703e4.chunk.js.map