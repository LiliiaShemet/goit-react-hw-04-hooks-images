{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Section/Section.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Request/Request.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Searchbar/Searchbar.js","services/services.js","components/Section/Section.js","components/ErrorMessage/ErrorMesssage.js","components/Request/Request.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Preloader","type","color","height","width","ImageGalleryItem","openModal","webformatURL","largeImageURL","tags","className","s","Item","onClick","e","target","dataset","large","src","alt","Image","ImageGallery","images","map","id","Container","children","container","SearchBar","onSubmit","useState","query","setQuery","Searchbar","preventDefault","toast","error","Form","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","trim","API_KEY","fetchImage","a","page","fetch","then","response","json","hits","total","pixabayAPI","Section","Gallery","ErrorMessage","message","text","Request","modalRoot","document","querySelector","Modal","onClose","useEffect","onKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","App","setImages","setPage","setError","setTotal","status","setStatus","showModal","setShowModal","largeURL","setLargeURL","prevImg","scrollPage","firstFetchImages","toggleModal","url","scrollTo","top","documentElement","scrollHeight","behavior","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f7f703e4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__3-aWh\",\"Image\":\"ImageGalleryItem_Image__1vxnQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3uBZk\",\"Modal\":\"Modal_Modal__1txv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__XHtLf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3Uu3-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"Section_Gallery__K1Yn2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__1BeCs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__1a_Wh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__JZnzb\"};","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default function Preloader() {\r\n  return (\r\n    <div>\r\n      <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  openModal,\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags = 'image',\r\n}) {\r\n  const handleClickImage = e => {\r\n    openModal(e.target.dataset.large);\r\n  };\r\n  return (\r\n    <li className={s.Item}>\r\n      <img\r\n        onClick={handleClickImage}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.Image}\r\n        data-large={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\n// export default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            openModal={openModal}\r\n            largeImageURL={largeImageURL}\r\n            tags={tags}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\nimport Container from '../Container';\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n  const handleSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    if (!query) {\r\n      toast.error('Please, enter your request!');\r\n      return;\r\n    }\r\n\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n  const handleChangeQuery = e => {\r\n    setQuery(e.currentTarget.value.toLowerCase().trim());\r\n  };\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <Container>\r\n        <form onSubmit={handleSubmitForm} className={s.Form}>\r\n          <button type=\"submit\" className={s.Button}>\r\n            <span className={s.Label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.Input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={handleChangeQuery}\r\n            value={query}\r\n          />\r\n        </form>\r\n      </Container>\r\n    </header>\r\n  );\r\n}\r\n","const API_KEY = '22960309-85052fc004ca9b43ae271af96';\r\n\r\nconst fetchImage = async (query, page = 1) => {\r\n  const { hits, total } = await fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    return response.json();\r\n  });\r\n  return { hits, total };\r\n};\r\n\r\nconst pixabayAPI = {\r\n  fetchImage,\r\n};\r\n\r\nexport default pixabayAPI;\r\n","import React from \"react\";\r\nimport s from \"./Section.module.css\";\r\n\r\nconst Section = ({ children }) => {\r\n  return <section className={s.Gallery}>{children}</section>;\r\n};\r\n\r\nexport default Section;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ErrorMessage.module.css\";\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n  return <p className={s.text}>{message}</p>;\r\n};\r\n\r\nErrorMessage.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import s from \"./Request.module.css\";\r\n\r\nconst Request = () => {\r\n  return (\r\n    <>\r\n      <p className={s.text}>Please, enter your request</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Request;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    const onKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', onKeyDown);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const onBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={onBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.css';\r\nimport Loader from './components/Loader';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Searchbar from './components/Searchbar';\r\nimport pixabayAPI from './services/services';\r\nimport Section from './components/Section';\r\nimport Container from './components/Container';\r\nimport ErrorMessage from './components/ErrorMessage';\r\nimport Request from './components/Request';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\n\r\nexport default function App() {\r\n  const [query, setQuery] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [error, setError] = useState(null);\r\n  const [total, setTotal] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeURL, setLargeURL] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n    async function firstFetchImages(query, page) {\r\n      await pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\r\n        if (page === 1) {\r\n          setImages([...hits]);\r\n        } else {\r\n          setImages(prevImg => [...prevImg, ...hits]);\r\n        }\r\n        setTotal(total);\r\n        setStatus('resolved');\r\n        if (!total) {\r\n          setError('Something went wrong! Please, change your request!');\r\n          setStatus('rejected');\r\n        } else {\r\n          setError(null);\r\n        }\r\n        scrollPage();\r\n      });\r\n    }\r\n    setStatus('pending');\r\n    firstFetchImages(query, page);\r\n  }, [query, page]);\r\n\r\n  const handleFormSubmit = query => {\r\n    setQuery(query);\r\n    setPage(1);\r\n  };\r\n\r\n  const onLoadMore = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const toggleModal = url => {\r\n    setShowModal(!showModal);\r\n    setLargeURL(url);\r\n  };\r\n\r\n  const scrollPage = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={handleFormSubmit} />;\r\n      <Section>\r\n        <Container>\r\n          {status === 'idle' && <Request />}\r\n          {status === 'rejected' && <ErrorMessage message={error} />}\r\n          <ImageGallery images={images} openModal={toggleModal} />\r\n          {status === 'pending' && <Loader />}\r\n          {total - page * 12 > 0 && status === 'resolved' && (\r\n            <Button onClick={onLoadMore} />\r\n          )}\r\n        </Container>\r\n      </Section>\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img src={largeURL} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n      <ToastContainer autoClose={3000} />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3adKK\",\"Form\":\"Searchbar_Form__LLdsA\",\"Button\":\"Searchbar_Button__3uAwJ\",\"Label\":\"Searchbar_Label__2-y3e\",\"Input\":\"Searchbar_Input__XFTh-\"};"],"sourceRoot":""}